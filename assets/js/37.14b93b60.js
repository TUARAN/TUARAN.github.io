(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{534:function(e,t,r){"use strict";r.r(t);var s=r(2),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),r("p",[e._v("源码阅读可能会迟到，但是一定不会缺席！")]),e._v(" "),r("p",[e._v("众所周知，以下代码就是 vue 的一种直接上手方式。通过 cdn 可以在线打开 vue.js。一个文件，一万行源码，能让万千开发者赖以生存，它究竟做了什么？让人品味。")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("<html>\n<head></head>\n<body>\n    <div id=\"app\">\n        {{ message }}\n    </div>\n</body>\n<script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"><\/script>\n<script>\n    var app = new Vue({\n        el: '#app',\n        data: {\n            message: 'See Vue again!'\n        },\n    })\n<\/script>\n</html>\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br"),r("span",{staticClass:"line-number"},[e._v("15")]),r("br"),r("span",{staticClass:"line-number"},[e._v("16")]),r("br"),r("span",{staticClass:"line-number"},[e._v("17")]),r("br")])]),r("p",[e._v("源码cdn地址："),r("a",{attrs:{href:"https://cdn.jsdelivr.net/npm/vue/dist/vue.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cdn.jsdelivr.net/npm/vue/dist/vue.js"),r("OutboundLink")],1),e._v("，当下版本：v2.6.11")]),e._v(" "),r("p",[e._v("选择生啃的原因是，自认为已经有一定的基础，且可以更自主地选择代码段分轻重来阅读，一方面测试自己的掌握程度，一方面追求更直观的源码阅读。")]),e._v(" "),r("p",[e._v("当然你也可以选择在 "),r("a",{attrs:{href:"https://github.com/vuejs/vue/tree/dev/src",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/vuejs/vue/tree/dev/src"),r("OutboundLink")],1),e._v(" 分模块的阅读，也可以看各路大神的归类整理。")]),e._v(" "),r("p",[e._v("笔者尽量按 500 行作为一个模块来形成一个 md 文件，结合注释、自己的理解、以及附上对应查询链接来逐行细读源码。")]),e._v(" "),r("p",[e._v("目的：自我梳理，分享交流。")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc1.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（1/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc2.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（2/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc3.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（3/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc4.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（4/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc5.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（5/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc6.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（6/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc7.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（7/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc8.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（8/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc9.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（9/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc10.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（10/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc11.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（11/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc12.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（12/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc13.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（13/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc14.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（14/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc15.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（15/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc16.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（16/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc17.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（17/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc18.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（18/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc19.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（19/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（20/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（21/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（22/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（23/24）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（24/24）"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"正文"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#正文"}},[e._v("#")]),e._v(" 正文")]),e._v(" "),r("h3",{attrs:{id:"第-7473-行至第-7697-行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第-7473-行至第-7697-行"}},[e._v("#")]),e._v(" 第 7473 行至第 7697 行")]),e._v(" "),r("ul",[r("li",[e._v("normalizeEvents // 为事件 多添加 change 或者input 事件加进去")]),e._v(" "),r("li",[e._v("createOnceHandler$1")]),e._v(" "),r("li",[e._v("add$1 // 为真实的dom添加事件")]),e._v(" "),r("li",[e._v("remove$2")]),e._v(" "),r("li",[e._v("updateDOMListeners // 更新dom事件")]),e._v(" "),r("li",[e._v("updateDOMProps // 更新真实dom的props属性")]),e._v(" "),r("li",[e._v("shouldUpdateValue // 判断是否需要更新value")]),e._v(" "),r("li",[e._v("isNotInFocusAndDirty")]),e._v(" "),r("li",[e._v("isDirtyWithModifiers // 判断脏数据修改\n"),r("a",{attrs:{href:"https://blog.csdn.net/LVXIANGAN/article/details/85329630",target:"_blank",rel:"noopener noreferrer"}},[e._v("脏数据概念"),r("OutboundLink")],1)])]),e._v(" "),r("h3",{attrs:{id:"第-7699-行至第-7797-行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第-7699-行至第-7797-行"}},[e._v("#")]),e._v(" 第 7699 行至第 7797 行")]),e._v(" "),r("ul",[r("li",[e._v("domProps")]),e._v(" "),r("li",[e._v("parseStyleText // 把style 字符串 转换成对象")]),e._v(" "),r("li",[e._v("normalizeStyleData // 在同一个vnode上合并静态和动态样式数据")]),e._v(" "),r("li",[e._v("normalizeStyleBinding // 将可能的数组/字符串值规范化为对象")]),e._v(" "),r("li",[e._v("getStyle")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("    /**\n    * parent component style should be after child's\n    * so that parent component's style could override it\n    * 父组件样式应该在子组件样式之后\n    * 这样父组件的样式就可以覆盖它\n    * 循环子组件和组件的样式，把它全部合并到一个样式对象中返回 样式对象 如{width:100px,height:200px} 返回该字符串。\n    */\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br")])]),r("ul",[r("li",[e._v("setProp // 设置 prop")])]),e._v(" "),r("h3",{attrs:{id:"第-7799-行至第-7995-行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第-7799-行至第-7995-行"}},[e._v("#")]),e._v(" 第 7799 行至第 7995 行")]),e._v(" "),r("ul",[r("li",[e._v("normalize  // 给css加前缀。解决浏览器兼用性问题，加前缀")]),e._v(" "),r("li",[e._v("updateStyle // 将vonde虚拟dom的css 转义成并且渲染到真实dom的csszhong")]),e._v(" "),r("li",[e._v("addClass // 为真实dom 元素添加class类")]),e._v(" "),r("li",[e._v("removeClass // 删除真实dom的css类名")]),e._v(" "),r("li",[e._v("resolveTransition // 解析vonde中的transition的name属性获取到一个css过度对象类")]),e._v(" "),r("li",[e._v("autoCssTransition // 通过 name 属性获取过渡 CSS 类名   比如标签上面定义name是 fade  css就要定义  .fade-enter-active,.fade-leave-active，.fade-enter,.fade-leave-to 这样的class")]),e._v(" "),r("li",[e._v("nextFrame // 下一帧")])]),e._v(" "),r("h3",{attrs:{id:"第-7997-行至第-8093-行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第-7997-行至第-8093-行"}},[e._v("#")]),e._v(" 第 7997 行至第 8093 行")]),e._v(" "),r("ul",[r("li",[e._v("addTransitionClass // 获取 真实dom addTransitionClass 记录calss类")]),e._v(" "),r("li",[e._v("removeTransitionClass // 删除vonde的class类和删除真实dom的class类")]),e._v(" "),r("li",[e._v("whenTransitionEnds // 获取动画的信息，执行动画。")]),e._v(" "),r("li",[e._v("getTransitionInfo // 获取transition，或者animation 动画的类型，动画个数，动画执行时间")])]),e._v(" "),r("p",[e._v("这一部分关于：对真实 dom 的操作，包括样式的增删、事件的增删、动画类等。")]),e._v(" "),r("p",[e._v("回过头再理一下宏观上的东西，再来亿遍-虚拟DOM：模板 → 渲染函数 → 虚拟DOM树 → 真实DOM")]),e._v(" "),r("p",[r("img",{attrs:{src:"/assets/img/vdom2.png",alt:""}})]),e._v(" "),r("p",[e._v("那么这一部分则处在“虚拟DOM树 → 真实DOM”这个阶段")])])}),[],!1,null,null,null);t.default=n.exports}}]);