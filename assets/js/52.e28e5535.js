(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{545:function(e,n,t){"use strict";t.r(n);var s=t(2),r=Object(s.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),t("p",[e._v("源码阅读可能会迟到，但是一定不会缺席！")]),e._v(" "),t("p",[e._v("众所周知，以下代码就是 vue 的一种直接上手方式。通过 cdn 可以在线打开 vue.js。一个文件，一万行源码，能让万千开发者赖以生存，它究竟做了什么？让人品味。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<html>\n<head></head>\n<body>\n    <div id=\"app\">\n        {{ message }}\n    </div>\n</body>\n<script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"><\/script>\n<script>\n    var app = new Vue({\n        el: '#app',\n        data: {\n            message: 'See Vue again!'\n        },\n    })\n<\/script>\n</html>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br")])]),t("p",[e._v("源码cdn地址："),t("a",{attrs:{href:"https://cdn.jsdelivr.net/npm/vue/dist/vue.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cdn.jsdelivr.net/npm/vue/dist/vue.js"),t("OutboundLink")],1),e._v("，当下版本：v2.6.11")]),e._v(" "),t("p",[e._v("选择生啃的原因是，自认为已经有一定的基础，且可以更自主地选择代码段分轻重来阅读，一方面测试自己的掌握程度，一方面追求更直观的源码阅读。")]),e._v(" "),t("p",[e._v("当然你也可以选择在 "),t("a",{attrs:{href:"https://github.com/vuejs/vue/tree/dev/src",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/vuejs/vue/tree/dev/src"),t("OutboundLink")],1),e._v(" 分模块的阅读，也可以看各路大神的归类整理。")]),e._v(" "),t("p",[e._v("笔者尽量按 500 行作为一个模块来形成一个 md 文件，结合注释、自己的理解、以及附上对应查询链接来逐行细读源码。")]),e._v(" "),t("p",[e._v("目的：自我梳理，分享交流。")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc1.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（1/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc2.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（2/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc3.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（3/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc4.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（4/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc5.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（5/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc6.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（6/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc7.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（7/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc8.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（8/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc9.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（9/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc10.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（10/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc11.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（11/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc12.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（12/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc13.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（13/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc14.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（14/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc15.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（15/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc16.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（16/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc17.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（17/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc18.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（18/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc19.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（19/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（20/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（21/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（22/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（23/24）"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://tuaran.github.io/views/2020/studyVuesc20.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js v2.6.11 生啃一万行源码（24/24）"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"正文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正文"}},[e._v("#")]),e._v(" 正文")]),e._v(" "),t("h3",{attrs:{id:"第-3517-行至第-3894-行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第-3517-行至第-3894-行"}},[e._v("#")]),e._v(" 第 3517 行至第 3894 行")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("renderMixin // 引入视图渲染混合函数")])]),e._v(" "),t("li",[t("p",[e._v("ensureCtor")])]),e._v(" "),t("li",[t("p",[e._v("createAsyncPlaceholder")])]),e._v(" "),t("li",[t("p",[e._v("resolveAsyncComponent")])]),e._v(" "),t("li",[t("p",[e._v("isAsyncPlaceholder")])]),e._v(" "),t("li",[t("p",[e._v("getFirstComponentChild")])]),e._v(" "),t("li",[t("p",[e._v("initEvents// 初始化事件")])]),e._v(" "),t("li",[t("p",[e._v("add")])]),e._v(" "),t("li",[t("p",[e._v("remove$1")])]),e._v(" "),t("li",[t("p",[e._v("createOnceHandler")])]),e._v(" "),t("li",[t("p",[e._v("updateComponentListeners")])]),e._v(" "),t("li",[t("p",[e._v("eventsMixin // 挂载事件响应相关方法")])])]),e._v(" "),t("h3",{attrs:{id:"第-3898-行至第-4227-行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第-3898-行至第-4227-行"}},[e._v("#")]),e._v(" 第 3898 行至第 4227 行")]),e._v(" "),t("ul",[t("li",[e._v("setActiveInstance")]),e._v(" "),t("li",[e._v("initLifecycle")]),e._v(" "),t("li",[e._v("lifecycleMixin// 挂载生命周期相关方法")]),e._v(" "),t("li",[e._v("mountComponent")]),e._v(" "),t("li",[e._v("updateChildComponent")]),e._v(" "),t("li",[e._v("isInInactiveTree")]),e._v(" "),t("li",[e._v("activateChildComponent")]),e._v(" "),t("li",[e._v("deactivateChildComponent")]),e._v(" "),t("li",[e._v("callHook")])]),e._v(" "),t("blockquote",[t("p",[e._v("几乎所有JS框架或插件的编写都有一个类似的模式，即向全局输出一个类或者说构造函数，通过创建实例来使用这个类的公开方法，或者使用类的静态全局方法辅助实现功能。相信精通Jquery或编写过Jquery插件的开发者会对这个模式非常熟悉。Vue.js也如出一辙，只是一开始接触这个框架的时候对它所能实现的功能的感叹盖过了它也不过是一个内容较为丰富和精致的大型类的本质。")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.im/post/5c62218e6fb9a049e063cf5e",target:"_blank",rel:"noopener noreferrer"}},[e._v("link"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"阶段小结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阶段小结"}},[e._v("#")]),e._v(" 阶段小结")]),e._v(" "),t("p",[e._v("这里要对 js 的继承有一个深刻的理解。\n"),t("a",{attrs:{href:"https://juejin.im/entry/58dfbe0361ff4b006b166388",target:"_blank",rel:"noopener noreferrer"}},[e._v("link"),t("OutboundLink")],1)]),e._v(" "),t("ol",[t("li",[e._v("类继承")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('function Animal(){\n    this.live=true;\n}\nfunction Dog(name){\n    this.name=name\n}\nDog.prototype=new Animal()\nvar dog1=new Dog("wangcai")\nconsole.log(dog1)// Dog {name: "wangcai"}\nconsole.log(dog1.live)// true\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("构造继承")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('function Animal(name,color){\n    this.name=name;\n    this.color=color;}\nfunction Dog(){\n    Animal.apply(this,arguments)\n}\nvar dog1=new Dog("wangcai","balck")\nconsole.log(dog1)// Dog {name: "wangcai", color: "balck"}\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("组合继承（类继承 + 构造继承）")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('function Animal(name,color){\n    this.name=name;\n    this.color=color;\n    this.live=true;\n}\nfunction Dog(){\n    Animal.apply(this, arguments);   \n}\nDog.prototype=new Animal()\nvar dog1=new Dog("wangcai","black")\nconsole.log(dog1)// Dog {name: "wangcai", color: "black", live: true}\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("寄生组合式继承")]),e._v(" "),t("li",[e._v("extend继承")])]),e._v(" "),t("p",[e._v("Vue 同 Jquery 一样，本质也是一个大型的类库。")]),e._v(" "),t("p",[e._v("// 定义Vue构造函数，形参options")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function Vue (options) {\n  if (process.env.NODE_ENV !== 'production' && !(this instanceof Vue) {\n    warn('Vue is a constructor and should be called with the `new` keyword')\n  }\n  // ...  \n  this._init(options)\n}\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])]),t("p",[e._v("// 功能函数")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// 引入初始化混合函数\nimport { initMixin } from './init'\n// 引入状态混合函数\nimport { stateMixin } from './state'\n// 引入视图渲染混合函数\nimport { renderMixin } from './render'\n// 引入事件混合函数\nimport { eventsMixin } from './events'\n// 引入生命周期混合函数\nimport { lifecycleMixin } from './lifecycle'\n// 引入warn控制台错误提示函数\nimport { warn } from '../util/index'\n...\n\n// 挂载初始化方法\ninitMixin(Vue)\n// 挂载状态处理相关方法\nstateMixin(Vue)\n// 挂载事件响应相关方法\neventsMixin(Vue)\n// 挂载生命周期相关方法\nlifecycleMixin(Vue)\n// 挂载视图渲染方法\nrenderMixin(Vue)\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br"),t("span",{staticClass:"line-number"},[e._v("22")]),t("br"),t("span",{staticClass:"line-number"},[e._v("23")]),t("br"),t("span",{staticClass:"line-number"},[e._v("24")]),t("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);